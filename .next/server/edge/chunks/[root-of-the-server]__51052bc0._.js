(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["chunks/[root-of-the-server]__51052bc0._.js",29426,e=>{"use strict";async function t(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}let n=null;async function r(){if("phase-production-build"===process.env.NEXT_PHASE)return;n||(n=t());let e=await n;if(null==e?void 0:e.register)try{await e.register()}catch(e){throw e.message=`An error occurred while loading instrumentation hook: ${e.message}`,e}}async function s(...e){let n=await t();try{var r;await (null==n||null==(r=n.onRequestError)?void 0:r.call(n,...e))}catch(e){console.error("Error in instrumentation.onRequestError:",e)}}let i=null;function a(){return i||(i=r()),i}function o(e){return`The edge runtime does not support Node.js '${e}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==e.g.process&&(process.env=e.g.process.env,e.g.process=process);try{Object.defineProperty(globalThis,"__import_unsupported",{value:function(e){let t=new Proxy(function(){},{get(t,n){if("then"===n)return{};throw Object.defineProperty(Error(o(e)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(o(e)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(n,r,s){if("function"==typeof s[0])return s[0](t);throw Object.defineProperty(Error(o(e)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>t})},enumerable:!1,configurable:!1})}catch{}a(),e.s(["edgeInstrumentationOnRequestError",()=>s,"ensureInstrumentationRegistered",()=>a,"getEdgeInstrumentationModule",()=>t])},23852,e=>{"use strict";var t=e.i(55684);e.s(["actionAsyncStorage",()=>t.actionAsyncStorageInstance])},8013,6605,e=>{"use strict";let t=(0,e.i(96903).createAsyncLocalStorage)();e.s(["dynamicAccessAsyncStorageInstance",0,t],8013),e.s(["dynamicAccessAsyncStorage",0,t],6605)},96903,e=>{"use strict";let t=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw t}getStore(){}run(){throw t}exit(){throw t}enterWith(){throw t}static bind(e){return e}}let r="u">typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return r?new r:new n}e.s(["createAsyncLocalStorage",()=>s])},46041,e=>{"use strict";let t=(0,e.i(96903).createAsyncLocalStorage)();e.s(["workAsyncStorageInstance",0,t])},45729,e=>{"use strict";var t=e.i(46041);e.s(["workAsyncStorage",()=>t.workAsyncStorageInstance])},99263,e=>{"use strict";let t=(0,e.i(96903).createAsyncLocalStorage)();e.s(["workUnitAsyncStorageInstance",0,t])},1552,e=>{"use strict";var t=e.i(99263);e.s(["workUnitAsyncStorage",()=>t.workUnitAsyncStorageInstance])},55684,e=>{"use strict";let t=(0,e.i(96903).createAsyncLocalStorage)();e.s(["actionAsyncStorageInstance",0,t])},7545,e=>{"use strict";let t=(0,e.i(96903).createAsyncLocalStorage)();e.s(["afterTaskAsyncStorageInstance",0,t])},51615,(e,t,n)=>{t.exports=e.x("node:buffer",()=>require("node:buffer"))},20401,e=>{"use strict";var t=e.i(7545);e.s(["afterTaskAsyncStorage",()=>t.afterTaskAsyncStorageInstance])},78500,(e,t,n)=>{t.exports=e.x("node:async_hooks",()=>require("node:async_hooks"))},18158,e=>{"use strict";let t;class n extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}class r{constructor(){throw this.count=0,this.earlyListeners=[],this.listeners=[],this.tickPending=!1,this.pendingTimeoutCleanup=null,this.subscribedSignals=null,this.invokeListenersIfNoPendingReads=()=>{if(this.pendingTimeoutCleanup=null,0===this.count){for(let e=0;e<this.listeners.length;e++)this.listeners[e]();this.listeners.length=0}},Object.defineProperty(new n("CacheSignal cannot be used in the edge runtime, because `cacheComponents` does not support it."),"__NEXT_ERROR_CODE",{value:"E728",enumerable:!1,configurable:!0})}noMorePendingCaches(){var e;let t,n;this.tickPending||(this.tickPending=!0,queueMicrotask(()=>process.nextTick(()=>{if(this.tickPending=!1,0===this.count){for(let e=0;e<this.earlyListeners.length;e++)this.earlyListeners[e]();this.earlyListeners.length=0}}))),this.pendingTimeoutCleanup&&this.pendingTimeoutCleanup(),this.pendingTimeoutCleanup=(e=this.invokeListenersIfNoPendingReads,n=setImmediate(()=>{t=clearTimeout.bind(null,setTimeout(e,0))}),t=clearImmediate.bind(null,n),()=>t())}inputReady(){return new Promise(e=>{this.earlyListeners.push(e),0===this.count&&this.noMorePendingCaches()})}cacheReady(){return new Promise(e=>{this.listeners.push(e),0===this.count&&this.noMorePendingCaches()})}beginRead(){if(this.count++,this.pendingTimeoutCleanup&&(this.pendingTimeoutCleanup(),this.pendingTimeoutCleanup=null),null!==this.subscribedSignals)for(let e of this.subscribedSignals)e.beginRead()}endRead(){if(0===this.count)throw Object.defineProperty(new n("CacheSignal got more endRead() calls than beginRead() calls"),"__NEXT_ERROR_CODE",{value:"E678",enumerable:!1,configurable:!0});if(this.count--,0===this.count&&this.noMorePendingCaches(),null!==this.subscribedSignals)for(let e of this.subscribedSignals)e.endRead()}hasPendingReads(){return this.count>0}trackRead(e){this.beginRead();let t=this.endRead.bind(this);return e.then(t,t),e}subscribeToReads(e){if(e===this)throw Object.defineProperty(new n("A CacheSignal cannot subscribe to itself"),"__NEXT_ERROR_CODE",{value:"E679",enumerable:!1,configurable:!0});null===this.subscribedSignals&&(this.subscribedSignals=new Set),this.subscribedSignals.add(e);for(let t=0;t<this.count;t++)e.beginRead();return this.unsubscribeFromReads.bind(this,e)}unsubscribeFromReads(e){this.subscribedSignals&&this.subscribedSignals.delete(e)}}function s(){return t||(t=new r),t}function i(e){s().trackRead(e)}function a(e){let t=s();if(null!==e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then){let n=Promise.resolve(e);t.trackRead(n)}}function o(e){let t=s().subscribeToReads(e);e.cacheReady().then(t)}e.s(["trackPendingChunkLoad",()=>i,"trackPendingImport",()=>a,"trackPendingModules",()=>o],18158)},65488,(e,t,n)=>{self._ENTRIES||={};let r=Promise.resolve().then(()=>e.i(42528));r.catch(()=>{}),self._ENTRIES["middleware_app/api/health/route"]=new Proxy(r,{get(e,t){if("then"===t)return(t,n)=>e.then(t,n);let n=(...n)=>e.then(e=>(0,e[t])(...n));return n.then=(n,r)=>e.then(e=>e[t]).then(n,r),n}})},42528,e=>{"use strict";let t;var n,r=e.i(19326),s=e.i(15746),i=e.i(51615),a=e.i(42603),o=e.i(4689),l=e.i(7504),u=e.i(52784),c=e.i(12043),d=e.i(92203),h=e.i(14936),p=e.i(21298),g=e.i(47015),R=e.i(93235),f=e.i(48036),b=e.i(59230),E=e.i(67839),m=e.i(13261),y=e.i(84682);e.i(16238);var w=e.i(25330);async function v(){return Response.json({status:"ok",timestamp:new Date().toISOString(),message:"CF Pages API working"})}e.s(["GET",()=>v,"runtime",0,"edge"],46925);var _=e.i(46925);let S=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/health/route",pathname:"/api/health",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/workspace/revenueforge/app/api/health/route.ts",nextConfigOutput:"",userland:_}),{workAsyncStorage:T,workUnitAsyncStorage:C,serverHooks:A}=S;function P(){return(0,l.patchFetch)({workAsyncStorage:T,workUnitAsyncStorage:C})}async function O(e,t,n){S.isDev&&(0,u.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let s="/api/health/route";s=s.replace(/\/index$/,"")||"/";let a=await S.prepare(e,t,{srcPage:s,multiZoneDraftMode:!1});if(!a)return t.statusCode=400,t.end("Bad Request"),null==n.waitUntil||n.waitUntil.call(n,Promise.resolve()),null;let{buildId:l,params:v,nextConfig:_,parsedUrl:T,isDraftMode:C,prerenderManifest:A,routerServerContext:P,isOnDemandRevalidate:O,revalidateOnlyGenerated:k,resolvedPathname:I,clientReferenceManifest:N,serverActionsManifest:x}=a,M=(0,d.normalizeAppPath)(s),L=!!(A.dynamicRoutes[M]||A.routes[I]),j=async()=>((null==P?void 0:P.render404)?await P.render404(e,t,T,!1):t.end("This page could not be found"),null);if(L&&!C){let e=!!A.routes[I],t=A.dynamicRoutes[M];if(t&&!1===t.fallback&&!e){if(_.experimental.adapterPath)return await j();throw new y.NoFallbackError}}let D=null;!L||S.isDev||C||(D="/index"===(D=I)?"/":D);let U=!0===S.isDev||!L,q=L&&!U;x&&N&&(0,r.setManifestsSingleton)({page:s,clientReferenceManifest:N,serverActionsManifest:x});let H=e.method||"GET",F=(0,c.getTracer)(),$=F.getActiveScopeSpan(),X={params:v,prerenderManifest:A,renderOpts:{experimental:{authInterrupts:!!_.experimental.authInterrupts},cacheComponents:!!_.cacheComponents,supportsDynamicResponse:U,incrementalCache:(0,u.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:_.cacheLife,waitUntil:n.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,n,r,s)=>S.onRequestError(e,t,r,s,P)},sharedContext:{buildId:l}},K=new h.NodeNextRequest(e),B=new h.NodeNextResponse(t),W=p.NextRequestAdapter.fromNodeNextRequest(K,(0,p.signalFromNodeResponse)(t));try{let r=async e=>S.handle(W,X).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let n=F.getRootSpanAttributes();if(!n)return;if(n.get("next.span_type")!==g.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${n.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let r=n.get("next.route");if(r){let t=`${H} ${r}`;e.setAttributes({"next.route":r,"http.route":r,"next.span_name":t}),e.updateName(t)}else e.updateName(`${H} ${s}`)}),a=!!(0,u.getRequestMeta)(e,"minimalMode"),l=async l=>{var u,c;let d=async({previousCacheEntry:o})=>{try{if(!a&&O&&k&&!o)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let s=await r(l);e.fetchMetrics=X.renderOpts.fetchMetrics;let u=X.renderOpts.pendingWaitUntil;u&&n.waitUntil&&(n.waitUntil(u),u=void 0);let c=X.renderOpts.collectedTags;if(!L)return await (0,f.sendResponse)(K,B,s,X.renderOpts.pendingWaitUntil),null;{let e=await s.blob(),t=(0,b.toNodeOutgoingHttpHeaders)(s.headers);c&&(t[m.NEXT_CACHE_TAGS_HEADER]=c),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let n=void 0!==X.renderOpts.collectedRevalidate&&!(X.renderOpts.collectedRevalidate>=m.INFINITE_CACHE)&&X.renderOpts.collectedRevalidate,r=void 0===X.renderOpts.collectedExpire||X.renderOpts.collectedExpire>=m.INFINITE_CACHE?void 0:X.renderOpts.collectedExpire;return{value:{kind:w.CachedRouteKind.APP_ROUTE,status:s.status,body:i.Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:n,expire:r}}}}catch(t){throw(null==o?void 0:o.isStale)&&await S.onRequestError(e,t,{routerKind:"App Router",routePath:s,routeType:"route",revalidateReason:(0,R.getRevalidateReason)({isStaticGeneration:q,isOnDemandRevalidate:O})},!1,P),t}},h=await S.handleResponse({req:e,nextConfig:_,cacheKey:D,routeKind:o.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:A,isRoutePPREnabled:!1,isOnDemandRevalidate:O,revalidateOnlyGenerated:k,responseGenerator:d,waitUntil:n.waitUntil,isMinimalMode:a});if(!L)return null;if((null==h||null==(u=h.value)?void 0:u.kind)!==w.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==h||null==(c=h.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});a||t.setHeader("x-nextjs-cache",O?"REVALIDATED":h.isMiss?"MISS":h.isStale?"STALE":"HIT"),C&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let p=(0,b.fromNodeOutgoingHttpHeaders)(h.value.headers);return a&&L||p.delete(m.NEXT_CACHE_TAGS_HEADER),!h.cacheControl||t.getHeader("Cache-Control")||p.get("Cache-Control")||p.set("Cache-Control",(0,E.getCacheControlHeader)(h.cacheControl)),await (0,f.sendResponse)(K,B,new Response(h.value.body,{headers:p,status:h.value.status||200})),null};$?await l($):await F.withPropagatedContext(e.headers,()=>F.trace(g.BaseServerSpan.handleRequest,{spanName:`${H} ${s}`,kind:c.SpanKind.SERVER,attributes:{"http.method":H,"http.target":e.url}},l))}catch(t){if(t instanceof y.NoFallbackError||await S.onRequestError(e,t,{routerKind:"App Router",routePath:M,routeType:"route",revalidateReason:(0,R.getRevalidateReason)({isStaticGeneration:q,isOnDemandRevalidate:O})},!1,P),L)throw t;return await (0,f.sendResponse)(K,B,new Response(null,{status:500})),null}}e.s(["handler",()=>O,"patchFetch",()=>P,"routeModule",()=>S,"serverHooks",()=>A,"workAsyncStorage",()=>T,"workUnitAsyncStorage",()=>C],3344);var k=e.i(3344);let I=null==(n=self.__RSC_MANIFEST)?void 0:n["/api/health/route"],N=(t=self.__RSC_SERVER_MANIFEST)?JSON.parse(t):void 0;I&&N&&(0,r.setManifestsSingleton)({page:"/api/health/route",clientReferenceManifest:I,serverActionsManifest:N});let x=s.EdgeRouteModuleWrapper.wrap(k.routeModule,{page:"/api/health/route"});e.s(["ComponentMod",0,k,"default",0,x],42528)}]);

//# sourceMappingURL=%5Broot-of-the-server%5D__51052bc0._.js.map