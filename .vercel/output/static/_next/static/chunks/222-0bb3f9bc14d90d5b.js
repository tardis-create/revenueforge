"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{3697:(e,t,r)=>{r.d(t,{d7:()=>a,nD:()=>n});var i=r(2115);function n(){let[e,t]=(0,i.useState)("undefined"==typeof navigator||navigator.onLine);return(0,i.useEffect)(()=>{let e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",r),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}},[]),e}function a(e,t){let[r,n]=(0,i.useState)(e);return(0,i.useEffect)(()=>{let r=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(r)}},[e,t]),r}},3975:(e,t,r)=>{r.d(t,{HamburgerMenu:()=>m,MobileNav:()=>u});var i=r(5155),n=r(2115),a=r(2164),s=r(6497),l=r(2619),o=r.n(l),c=r(63);let d=[{href:"/",label:"Home",icon:"\uD83C\uDFE0"},{href:"/catalog",label:"Catalog",icon:"\uD83D\uDCE6"},{href:"/rfq",label:"RFQ",icon:"\uD83D\uDCDD"},{href:"/admin/products",label:"Admin",icon:"⚙️"}];function u(){let e=(0,c.usePathname)();return(0,i.jsx)(a.P.nav,{initial:{y:100},animate:{y:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-0 left-0 right-0 z-50 md:hidden",children:(0,i.jsx)("div",{className:"mx-4 mb-4 px-2 py-3 bg-zinc-900/90 backdrop-blur-lg border border-zinc-800/50 rounded-2xl shadow-2xl",children:(0,i.jsx)("div",{className:"flex items-center justify-around",children:d.map(t=>{let r=e===t.href||"/"!==t.href&&e.startsWith(t.href);return(0,i.jsx)(o(),{href:t.href,children:(0,i.jsxs)(a.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"\n                    flex flex-col items-center gap-1 px-4 py-2 rounded-xl\n                    transition-colors min-h-[44px] min-w-[44px]\n                    ".concat(r?"bg-purple-500/20 text-purple-400":"text-zinc-400 hover:text-zinc-100","\n                  "),children:[(0,i.jsx)("span",{className:"text-lg",children:t.icon}),(0,i.jsx)("span",{className:"text-xs font-medium",children:t.label})]})},t.href)})})})})}function m(){let[e,t]=(0,n.useState)(!1),r=(0,c.usePathname)();return(0,i.jsxs)("div",{className:"lg:hidden",children:[(0,i.jsx)(a.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!e),className:"p-2 rounded-lg bg-zinc-800/50 border border-zinc-700/50","aria-label":"Toggle menu",children:(0,i.jsx)("svg",{className:"w-6 h-6 text-zinc-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e?(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,i.jsx)(s.N,{children:e&&(0,i.jsx)(a.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{type:"spring",stiffness:300,damping:30},className:"absolute top-full right-0 mt-2 w-48 bg-zinc-900/95 backdrop-blur-lg border border-zinc-800/50 rounded-xl shadow-2xl overflow-hidden",children:d.map(e=>{let n=r===e.href||"/"!==e.href&&r.startsWith(e.href);return(0,i.jsx)(o(),{href:e.href,children:(0,i.jsxs)(a.P.button,{whileHover:{x:4},className:"\n                      w-full flex items-center gap-3 px-4 py-3 text-left\n                      transition-colors border-b border-zinc-800/30 last:border-0\n                      ".concat(n?"bg-purple-500/10 text-purple-400":"text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800/50","\n                    "),onClick:()=>t(!1),children:[(0,i.jsx)("span",{children:e.icon}),(0,i.jsx)("span",{className:"font-medium",children:e.label})]})},e.href)})})})]})}},6707:(e,t,r)=>{r.d(t,{As:()=>u,OJ:()=>d});var i=r(5155),n=r(2115),a=r(63),s=r(5704);let l=(0,n.createContext)(void 0),o="auth_token",c="user_data";function d(e){let{children:t}=e,r=(0,a.useRouter)(),[s,d]=(0,n.useState)({user:null,isLoading:!0,isAuthenticated:!1,error:null});(0,n.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem(o),t=localStorage.getItem(c);if(e&&t){let e=JSON.parse(t);d({user:e,isLoading:!1,isAuthenticated:!0,error:null})}else d({user:null,isLoading:!1,isAuthenticated:!1,error:null})}catch(e){localStorage.removeItem(o),localStorage.removeItem(c),d({user:null,isLoading:!1,isAuthenticated:!1,error:null})}})()},[]);let u=(0,n.useCallback)(async(e,t)=>{d(e=>({...e,isLoading:!0,error:null}));try{await new Promise(e=>setTimeout(e,500));let t={id:"1",email:e,name:e.split("@")[0],role:e.includes("admin")?"admin":e.includes("dealer")?"dealer":"user"},i=btoa("".concat(e,":").concat(Date.now()));localStorage.setItem(o,i),localStorage.setItem(c,JSON.stringify(t)),d({user:t,isLoading:!1,isAuthenticated:!0,error:null}),"dealer"===t.role?r.push("/dealer"):r.push("/admin")}catch(e){throw d({user:null,isLoading:!1,isAuthenticated:!1,error:"Invalid email or password"}),e}},[r]),m=(0,n.useCallback)(async(e,t,i,n)=>{d(e=>({...e,isLoading:!0,error:null}));try{await new Promise(e=>setTimeout(e,500));let i={id:Date.now().toString(),email:t,name:e,company:n,role:"user"},a=btoa("".concat(t,":").concat(Date.now()));localStorage.setItem(o,a),localStorage.setItem(c,JSON.stringify(i)),d({user:i,isLoading:!1,isAuthenticated:!0,error:null}),r.push("/login?registered=true")}catch(e){throw d({user:null,isLoading:!1,isAuthenticated:!1,error:"Registration failed. Please try again."}),e}},[r]),h=(0,n.useCallback)(async()=>{d(e=>({...e,isLoading:!0}));try{localStorage.removeItem(o),localStorage.removeItem(c),d({user:null,isLoading:!1,isAuthenticated:!1,error:null}),r.push("/login")}catch(e){d({user:null,isLoading:!1,isAuthenticated:!1,error:null}),r.push("/login")}},[r]),x=(0,n.useCallback)(async e=>{d(e=>({...e,isLoading:!0,error:null}));try{await new Promise(e=>setTimeout(e,500)),d(e=>({...e,isLoading:!1}));return}catch(e){throw d(e=>({...e,isLoading:!1,error:"Failed to send reset link. Please try again."})),e}},[]),g=(0,n.useCallback)(async(e,t)=>{d(e=>({...e,isLoading:!0,error:null}));try{if(await new Promise(e=>setTimeout(e,500)),!e||e.length<10)throw Error("Invalid or expired reset token");d(e=>({...e,isLoading:!1})),r.push("/login?reset=true")}catch(e){throw d(e=>({...e,isLoading:!1,error:"Invalid or expired reset token"})),e}},[r]),f=(0,n.useCallback)(()=>{d(e=>({...e,error:null}))},[]),p={...s,login:u,register:m,logout:h,forgotPassword:x,resetPassword:g,clearError:f};return(0,i.jsx)(l.Provider,{value:p,children:t})}function u(){let e=(0,n.useContext)(l);return void 0===e?{user:null,isLoading:!1,isAuthenticated:!1,error:null,login:async()=>{console.warn("AuthProvider not initialized - login called during static generation")},register:async()=>{console.warn("AuthProvider not initialized - register called during static generation")},logout:async()=>{console.warn("AuthProvider not initialized - logout called during static generation")},forgotPassword:async()=>{console.warn("AuthProvider not initialized - forgotPassword called during static generation")},resetPassword:async()=>{console.warn("AuthProvider not initialized - resetPassword called during static generation")},clearError:()=>{console.warn("AuthProvider not initialized - clearError called during static generation")}}:e}s.env.NEXT_PUBLIC_API_URL},9122:(e,t,r)=>{r.d(t,{OfflineIndicator:()=>l,RateLimitIndicator:()=>c,ReconnectingIndicator:()=>o,TimeoutState:()=>d});var i=r(5155),n=r(6497),a=r(2164),s=r(3697);function l(){let e=(0,s.nD)();return(0,i.jsx)(n.N,{children:!e&&(0,i.jsx)(a.P.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 left-0 right-0 z-[100] bg-amber-500/95 backdrop-blur-sm",role:"alert","aria-live":"assertive",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-2.5 flex items-center justify-center gap-2",children:[(0,i.jsx)("svg",{className:"w-4 h-4 text-amber-950 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"})}),(0,i.jsx)("span",{className:"text-sm font-medium text-amber-950",children:"You're offline. Some features may be unavailable."})]})})})}function o(e){let{show:t}=e;return(0,i.jsx)(n.N,{children:t&&(0,i.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed bottom-20 left-1/2 -translate-x-1/2 z-[100]",role:"status","aria-live":"polite",children:(0,i.jsxs)("div",{className:"bg-zinc-800/95 backdrop-blur-sm border border-zinc-700/50 rounded-full px-4 py-2 flex items-center gap-2 shadow-lg",children:[(0,i.jsxs)("svg",{className:"w-4 h-4 text-zinc-400 animate-spin",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,i.jsx)("span",{className:"text-sm text-zinc-300",children:"Reconnecting..."})]})})})}function c(e){let{show:t,retryAfter:r}=e;return(0,i.jsx)(n.N,{children:t&&(0,i.jsx)(a.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[100]",role:"alert","aria-live":"assertive",children:(0,i.jsxs)("div",{className:"bg-zinc-900/95 backdrop-blur-lg border border-zinc-800 rounded-2xl p-6 max-w-sm mx-4 shadow-2xl",children:[(0,i.jsx)("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 rounded-full bg-amber-500/10",children:(0,i.jsx)("svg",{className:"w-6 h-6 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,i.jsx)("h3",{className:"text-lg font-semibold text-zinc-100 text-center mb-2",children:"Too Many Requests"}),(0,i.jsxs)("p",{className:"text-sm text-zinc-400 text-center mb-4",children:["Please wait a moment before trying again.",r&&(0,i.jsxs)("span",{className:"block mt-1",children:["Try again in ",r," seconds."]})]}),(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)("div",{className:"w-32 h-1 bg-zinc-800 rounded-full overflow-hidden",children:(0,i.jsx)(a.P.div,{initial:{width:"0%"},animate:{width:"100%"},transition:{duration:r||30,ease:"linear"},className:"h-full bg-amber-500"})})})]})})})}function d(e){let{onRetry:t,message:r="The request took too long. Please try again."}=e;return(0,i.jsxs)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:300,damping:30},className:"flex flex-col items-center justify-center py-16 px-4 text-center",role:"alert","aria-live":"assertive",children:[(0,i.jsx)("div",{className:"w-16 h-16 rounded-full bg-amber-500/10 border border-amber-500/20 flex items-center justify-center mb-6",children:(0,i.jsx)("svg",{className:"w-8 h-8 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,i.jsx)("h3",{className:"text-lg font-semibold text-zinc-100 mb-2",children:"Request Timeout"}),(0,i.jsx)("p",{className:"text-sm text-zinc-400 max-w-sm mb-6",children:r}),t&&(0,i.jsx)("button",{onClick:t,className:"px-6 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 border border-purple-500/30 text-white rounded-lg font-medium hover:border-purple-400/50 transition-all focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:ring-offset-2 focus:ring-offset-zinc-900",children:"Try Again"})]})}}}]);