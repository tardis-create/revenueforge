(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1],{3740:(e,r,a)=>{"use strict";a.d(r,{HZ:()=>v.SpotlightCard,IY:()=>p.FormActions,JX:()=>o.StaggerContainer,LH:()=>t.SpringButton,O0:()=>l.LoadingSkeleton,OO:()=>h.DataTableSkeleton,Qv:()=>l.CardSkeleton,Rt:()=>n.HamburgerMenu,T9:()=>b.CountUp,Tc:()=>o.StaggerItem,W5:()=>i.ErrorState,ZQ:()=>p.FormInput,dj:()=>c.useToast,eG:()=>f.ClickSpark,hD:()=>m.ApiError,hg:()=>p.FormTextarea,i2:()=>g.FadeContent,j6:()=>s.LiquidCard,lB:()=>j.Magnet,li:()=>x.AnimatedContent,pp:()=>i.EmptyState,tE:()=>c.ToastProvider,xz:()=>u.BlurText,y9:()=>p.FormSection,yz:()=>y.GlareHover,zv:()=>d.TimeoutState});var s=a(3652),t=a(2505),o=a(2998),l=a(1135),i=a(9488),n=a(3975);a(4410);var d=a(9122),c=a(6259);a(6603);var m=a(3404),p=a(6418),h=a(8470),u=a(3392),x=a(5079),g=a(9403),b=a(8731),y=a(3519),v=a(2984),j=a(5512),f=a(4589)},5313:(e,r,a)=>{Promise.resolve().then(a.bind(a,8001))},7621:(e,r,a)=>{"use strict";a.d(r,{JR:()=>s,nr:()=>t});let s="https://revenueforge-api.pronitopenclaw.workers.dev";async function t(e,r){return fetch("".concat(s).concat(e),{...r,headers:{"Content-Type":"application/json",...null==r?void 0:r.headers}})}},8001:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>n});var s=a(5155),t=a(2115),o=a(3740),l=a(7621);let i={company:{name:"",address:"",phone:"",taxId:""},smtp:{host:"",port:"587",user:"",password:"",fromEmail:"",fromName:""},whiteLabel:{logoUrl:"",primaryColor:"#8B5CF6",secondaryColor:"#06B6D4"}};function n(){let[e,r]=(0,t.useState)("company"),[a,n]=(0,t.useState)(i),[d,c]=(0,t.useState)({}),[m,p]=(0,t.useState)(!0),[h,u]=(0,t.useState)(!1),[x,g]=(0,t.useState)(!1),{success:b,error:y}=(0,o.dj)();(0,t.useEffect)(()=>{v()},[]);let v=async()=>{try{p(!0);let e=await fetch("".concat(l.JR,"/api/settings")),r=await e.json();r.success&&r.data&&n({company:{...i.company,...r.data.company},smtp:{...i.smtp,...r.data.smtp},whiteLabel:{...i.whiteLabel,...r.data.whiteLabel}})}catch(e){console.log("Settings not found, using defaults")}finally{p(!1)}},j=()=>{let e={};return a.smtp.host.trim()||(e.host="SMTP host is required"),a.smtp.port.trim()?(!/^\d+$/.test(a.smtp.port)||1>parseInt(a.smtp.port)||parseInt(a.smtp.port)>65535)&&(e.port="Port must be between 1 and 65535"):e.port="Port is required",a.smtp.user.trim()||(e.user="SMTP user is required"),a.smtp.password.trim()||(e.password="SMTP password is required"),a.smtp.fromEmail.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.smtp.fromEmail)||(e.fromEmail="Please enter a valid email address"):e.fromEmail="From email is required",a.smtp.fromName.trim()||(e.fromName="From name is required"),c(e),0===Object.keys(e).length},f=async()=>{let r=!1;switch(e){case"company":r=(()=>{let e={};return a.company.name.trim()||(e.name="Company name is required"),a.company.address.trim()||(e.address="Address is required"),a.company.phone.trim()?/^\+?[\d\s\-().]+$/.test(a.company.phone)||(e.phone="Please enter a valid phone number"):e.phone="Phone number is required",a.company.taxId.trim()||(e.taxId="Tax ID is required"),c(e),0===Object.keys(e).length})();break;case"smtp":r=j();break;case"whitelabel":r=(()=>{let e={};return a.whiteLabel.logoUrl&&!/^https?:\/\/.+/.test(a.whiteLabel.logoUrl)&&(e.logoUrl="Logo URL must be a valid URL"),a.whiteLabel.primaryColor.trim()?/^#[0-9A-Fa-f]{6}$/.test(a.whiteLabel.primaryColor)||(e.primaryColor="Color must be a valid hex color (e.g., #8B5CF6)"):e.primaryColor="Primary color is required",a.whiteLabel.secondaryColor.trim()?/^#[0-9A-Fa-f]{6}$/.test(a.whiteLabel.secondaryColor)||(e.secondaryColor="Color must be a valid hex color (e.g., #06B6D4)"):e.secondaryColor="Secondary color is required",c(e),0===Object.keys(e).length})()}if(!r)return void y("Validation Error","Please fix the errors before saving.");try{u(!0);let e=await fetch("".concat(l.JR,"/api/settings"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),r=await e.json();r.success?b("Settings Saved","Your settings have been updated successfully."):y("Save Failed",r.error||"Failed to save settings")}catch(e){y("Save Failed","Could not connect to the server")}finally{u(!1)}},C=async()=>{if(!j())return void y("Validation Error","Please fill in all SMTP settings before testing.");try{g(!0);let e=await fetch("".concat(l.JR,"/api/settings/test-email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.smtp)}),r=await e.json();r.success?b("Test Email Sent","Check your inbox for the test email."):y("Test Failed",r.error||"Failed to send test email")}catch(e){y("Test Failed","Could not connect to the server")}finally{g(!1)}},N=(e,r)=>{n(a=>({...a,company:{...a.company,[e]:r}})),d[e]&&c(r=>({...r,[e]:void 0}))},w=(e,r)=>{n(a=>({...a,smtp:{...a.smtp,[e]:r}})),d[e]&&c(r=>({...r,[e]:void 0}))},z=(e,r)=>{n(a=>({...a,whiteLabel:{...a.whiteLabel,[e]:r}})),d[e]&&c(r=>({...r,[e]:void 0}))};return m?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)(o.li,{children:[(0,s.jsx)("h1",{className:"text-3xl lg:text-4xl font-bold text-zinc-100 mb-2",children:(0,s.jsx)(o.xz,{text:"Admin Settings"})}),(0,s.jsx)("p",{className:"text-zinc-400",children:"Configure your system settings, email, and branding"})]})}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-4 gap-8",children:[(0,s.jsx)(o.li,{delay:.1,children:(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)("div",{className:"space-y-1",children:[{id:"company",label:"Company Settings",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},{id:"smtp",label:"SMTP Settings",icon:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},{id:"whitelabel",label:"White-Label",icon:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"}].map(a=>(0,s.jsxs)("button",{onClick:()=>{r(a.id),c({})},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-left ".concat(e===a.id?"bg-gradient-to-r from-purple-600/20 to-indigo-600/20 text-purple-300 border border-purple-500/20":"text-zinc-400 hover:bg-zinc-800/50 hover:text-zinc-100"),children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:a.icon})}),(0,s.jsx)("span",{className:"font-medium",children:a.label})]},a.id))})})}),(0,s.jsxs)("div",{className:"lg:col-span-3",children:["company"===e&&(0,s.jsx)(o.li,{delay:.2,children:(0,s.jsx)(o.yz,{glareColor:"rgba(168, 85, 247, 0.15)",glareSize:300,children:(0,s.jsxs)("div",{className:"p-6 bg-zinc-900/60 border border-zinc-800/50 rounded-xl backdrop-blur-sm",children:[(0,s.jsx)(o.y9,{title:"Company Information",description:"Your company details for invoices and communications",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(o.ZQ,{label:"Company Name",name:"companyName",value:a.company.name,onChange:e=>N("name",e.target.value),error:d.name,placeholder:"Acme Corporation",required:!0}),(0,s.jsx)(o.hg,{label:"Address",name:"address",rows:3,value:a.company.address,onChange:e=>N("address",e.target.value),error:d.address,placeholder:"123 Business Street City, State 12345 Country",required:!0}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsx)(o.ZQ,{label:"Phone",name:"phone",type:"tel",value:a.company.phone,onChange:e=>N("phone",e.target.value),error:d.phone,placeholder:"+1-555-123-4567",helpText:"Include country code",required:!0}),(0,s.jsx)(o.ZQ,{label:"Tax ID",name:"taxId",value:a.company.taxId,onChange:e=>N("taxId",e.target.value),error:d.taxId,placeholder:"GSTIN / VAT / EIN",helpText:"Your business tax identifier",required:!0})]})]})}),(0,s.jsx)(o.IY,{className:"mt-6",children:(0,s.jsx)("button",{onClick:f,disabled:h,className:"px-6 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 border border-purple-500/30 rounded-lg text-white font-medium hover:border-purple-400/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Settings"})})]})})}),"smtp"===e&&(0,s.jsx)(o.li,{delay:.2,children:(0,s.jsx)(o.yz,{glareColor:"rgba(168, 85, 247, 0.15)",glareSize:300,children:(0,s.jsxs)("div",{className:"p-6 bg-zinc-900/60 border border-zinc-800/50 rounded-xl backdrop-blur-sm",children:[(0,s.jsx)(o.y9,{title:"SMTP Configuration",description:"Configure your email server for sending notifications",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,s.jsx)("div",{className:"sm:col-span-2",children:(0,s.jsx)(o.ZQ,{label:"SMTP Host",name:"smtpHost",value:a.smtp.host,onChange:e=>w("host",e.target.value),error:d.host,placeholder:"smtp.example.com",required:!0})}),(0,s.jsx)(o.ZQ,{label:"Port",name:"smtpPort",type:"number",value:a.smtp.port,onChange:e=>w("port",e.target.value),error:d.port,placeholder:"587",helpText:"Usually 587 or 465",required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsx)(o.ZQ,{label:"Username",name:"smtpUser",value:a.smtp.user,onChange:e=>w("user",e.target.value),error:d.user,placeholder:"your-email@example.com",required:!0}),(0,s.jsx)(o.ZQ,{label:"Password",name:"smtpPassword",type:"password",value:a.smtp.password,onChange:e=>w("password",e.target.value),error:d.password,placeholder:"••••••••",helpText:"App password recommended",required:!0})]}),(0,s.jsxs)("div",{className:"border-t border-zinc-800/50 pt-4 mt-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-zinc-300 mb-3",children:"Sender Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsx)(o.ZQ,{label:"From Email",name:"fromEmail",type:"email",value:a.smtp.fromEmail,onChange:e=>w("fromEmail",e.target.value),error:d.fromEmail,placeholder:"noreply@yourcompany.com",required:!0}),(0,s.jsx)(o.ZQ,{label:"From Name",name:"fromName",value:a.smtp.fromName,onChange:e=>w("fromName",e.target.value),error:d.fromName,placeholder:"Your Company Name",required:!0})]})]})]})}),(0,s.jsx)(o.IY,{className:"mt-6",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsx)("button",{onClick:C,disabled:x,className:"px-4 py-2.5 bg-zinc-800/50 border border-zinc-700/50 rounded-lg text-zinc-300 font-medium hover:border-zinc-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Test Email"]})}),(0,s.jsx)("button",{onClick:f,disabled:h,className:"px-6 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 border border-purple-500/30 rounded-lg text-white font-medium hover:border-purple-400/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Settings"})]})})]})})}),"whitelabel"===e&&(0,s.jsx)(o.li,{delay:.2,children:(0,s.jsx)(o.yz,{glareColor:"rgba(168, 85, 247, 0.15)",glareSize:300,children:(0,s.jsxs)("div",{className:"p-6 bg-zinc-900/60 border border-zinc-800/50 rounded-xl backdrop-blur-sm",children:[(0,s.jsx)(o.y9,{title:"White-Label Settings",description:"Customize branding colors and logo",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Logo URL"}),(0,s.jsx)("div",{className:"flex gap-3",children:(0,s.jsx)("input",{type:"url",name:"logoUrl",value:a.whiteLabel.logoUrl,onChange:e=>z("logoUrl",e.target.value),placeholder:"https://example.com/logo.png",className:"flex-1 px-4 py-2.5 bg-zinc-800/50 border rounded-lg text-zinc-100 placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-colors ".concat(d.logoUrl?"border-red-500/50":"border-zinc-700/50 focus:border-purple-500/50")})}),d.logoUrl&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-400",children:d.logoUrl}),(0,s.jsx)("p",{className:"mt-1 text-xs text-zinc-500",children:"URL to your company logo (PNG, SVG recommended)"}),a.whiteLabel.logoUrl&&(0,s.jsxs)("div",{className:"mt-3 p-4 bg-zinc-800/30 rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs text-zinc-500 mb-2",children:"Preview:"}),(0,s.jsx)("img",{src:a.whiteLabel.logoUrl,alt:"Logo preview",className:"max-h-16 object-contain",onError:e=>{e.target.style.display="none"}})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:["Primary Color ",(0,s.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("input",{type:"color",value:a.whiteLabel.primaryColor,onChange:e=>z("primaryColor",e.target.value),className:"w-12 h-10 rounded-lg border border-zinc-700/50 cursor-pointer"}),(0,s.jsx)("input",{type:"text",value:a.whiteLabel.primaryColor,onChange:e=>z("primaryColor",e.target.value),placeholder:"#8B5CF6",className:"flex-1 px-4 py-2.5 bg-zinc-800/50 border rounded-lg text-zinc-100 placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-colors font-mono text-sm ".concat(d.primaryColor?"border-red-500/50":"border-zinc-700/50 focus:border-purple-500/50")})]}),d.primaryColor&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-400",children:d.primaryColor}),(0,s.jsx)("p",{className:"mt-1 text-xs text-zinc-500",children:"Used for buttons, links, and accents"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:["Secondary Color ",(0,s.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("input",{type:"color",value:a.whiteLabel.secondaryColor,onChange:e=>z("secondaryColor",e.target.value),className:"w-12 h-10 rounded-lg border border-zinc-700/50 cursor-pointer"}),(0,s.jsx)("input",{type:"text",value:a.whiteLabel.secondaryColor,onChange:e=>z("secondaryColor",e.target.value),placeholder:"#06B6D4",className:"flex-1 px-4 py-2.5 bg-zinc-800/50 border rounded-lg text-zinc-100 placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-colors font-mono text-sm ".concat(d.secondaryColor?"border-red-500/50":"border-zinc-700/50 focus:border-purple-500/50")})]}),d.secondaryColor&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-400",children:d.secondaryColor}),(0,s.jsx)("p",{className:"mt-1 text-xs text-zinc-500",children:"Used for gradients and highlights"})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-zinc-800/30 rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs text-zinc-500 mb-3",children:"Preview:"}),(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("button",{type:"button",className:"px-4 py-2 rounded-lg text-white font-medium",style:{backgroundColor:a.whiteLabel.primaryColor},children:"Primary Button"}),(0,s.jsx)("button",{type:"button",className:"px-4 py-2 rounded-lg text-white font-medium",style:{backgroundColor:a.whiteLabel.secondaryColor},children:"Secondary Button"}),(0,s.jsx)("span",{className:"font-medium",style:{color:a.whiteLabel.primaryColor},children:"Link Text"})]})]})]})}),(0,s.jsx)(o.IY,{className:"mt-6",children:(0,s.jsx)("button",{onClick:f,disabled:h,className:"px-6 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 border border-purple-500/30 rounded-lg text-white font-medium hover:border-purple-400/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Settings"})})]})})})]})]})]})}}},e=>{e.O(0,[176,852,887,222,661,441,255,358],()=>e(e.s=5313)),_N_E=e.O()}]);