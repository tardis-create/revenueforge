name = "revenueforge-products-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "revenueforge-db"
database_id = "da0624be-7f9c-4fc7-809a-c79c5641896b"

# R2 bucket for product images
[[r2_buckets]]
binding = "PRODUCT_IMAGES"
bucket_name = "revenueforge-product-images"

# R2 bucket for general uploads
[[r2_buckets]]
binding = "UPLOADS"
bucket_name = "revenueforge-uploads"

# Environment variables
[vars]
ENVIRONMENT = "development"

# KV namespace for distributed rate limiting
[[kv_namespaces]]
binding = "KV"
id = "abf6f10d63e4485e94d8f5b8c4408fec"
